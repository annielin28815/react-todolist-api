{"ast":null,"code":"var _jsxFileName = \"D:\\\\personal\\\\sideProject\\\\react-todolist-page\\\\src\\\\pages\\\\home\\\\components\\\\Register.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport Loading from '../../../components/Loading';\nimport MySwal from '../../../components/Swql';\nimport { RegisterApi } from '../../../global/todoApi';\nimport FormInput from './FormInput';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Register = () => {\n  _s();\n\n  const [isLoading, setLoading] = useState(false);\n  const {\n    register,\n    handleSubmit,\n    watch,\n    formState\n  } = useForm();\n  const {\n    errors\n  } = formState;\n\n  const fetchRegister = async user => {\n    setLoading(true);\n    const res = await RegisterApi(user);\n    const data = await res.json();\n    const {\n      status\n    } = res;\n    const {\n      message,\n      error\n    } = data;\n    setLoading(false);\n\n    if (status === 201) {\n      MySwal.fire({\n        toast: true,\n        position: 'top-end',\n        icon: 'success',\n        showConfirmButton: false,\n        timer: 1500,\n        timerProgressBar: true,\n        title: message\n      });\n    } else if (status === 422) {\n      let errorMsg = '';\n\n      for (const item of error) {\n        errorMsg += item + ' ';\n      }\n\n      MySwal.fire({\n        toast: true,\n        position: 'top-end',\n        icon: 'error',\n        showConfirmButton: false,\n        timer: 1500,\n        timerProgressBar: true,\n        title: message,\n        text: errorMsg\n      });\n    }\n  };\n\n  const formInputList = [{\n    type: 'text',\n    id: 'email',\n    placeholder: '請輸入 Email',\n    verify: {\n      required: {\n        value: true,\n        message: '此欄位必填'\n      },\n      pattern: {\n        value: /^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/g,\n        message: '不符合 Email 規則'\n      }\n    },\n    labelText: 'Email'\n  }, {\n    type: 'text',\n    id: 'nickname',\n    placeholder: '請輸入您的暱稱',\n    verify: {\n      required: {\n        value: true,\n        message: '此欄位必填'\n      }\n    },\n    labelText: '您的暱稱'\n  }, {\n    type: 'password',\n    id: 'password',\n    placeholder: '請輸入密碼',\n    verify: {\n      required: {\n        value: true,\n        message: '此欄位必填'\n      },\n      minLength: {\n        value: 6,\n        message: '密碼 字數太少，至少需要 6 個字'\n      }\n    },\n    labelText: '密碼'\n  }, {\n    type: 'text',\n    id: 'password2',\n    placeholder: '請再次輸入密碼',\n    verify: {\n      required: {\n        value: true,\n        message: '此欄位必填'\n      },\n      validate: value => value === watch('password', '') || '兩次密碼輸入不同，請重新確認'\n    },\n    labelText: '再次輸入密碼'\n  }];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"formControls\",\n      onSubmit: handleSubmit(fetchRegister),\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"formControls_txt\",\n        children: \"\\u8A3B\\u518A\\u5E33\\u865F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this), formInputList.map(item => /*#__PURE__*/_jsxDEV(FormInput, {\n        item: item,\n        register: register,\n        errors: errors\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 21\n      }, this)), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"formControls_btnSubmit\",\n        type: \"submit\",\n        value: \"\\u8A3B\\u518A\\u5E33\\u865F\",\n        disabled: Object.keys(errors).length > 0\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n        className: \"formControls_btnLink\",\n        to: \"/login\",\n        children: \"\\u767B\\u5165\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this), isLoading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 26\n    }, this) : '']\n  }, void 0, true);\n};\n\n_s(Register, \"PnTSF+96zDcr2InVM25SCf7Gi68=\", false, function () {\n  return [useForm];\n});\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["useState","NavLink","useForm","Loading","MySwal","RegisterApi","FormInput","Register","isLoading","setLoading","register","handleSubmit","watch","formState","errors","fetchRegister","user","res","data","json","status","message","error","fire","toast","position","icon","showConfirmButton","timer","timerProgressBar","title","errorMsg","item","text","formInputList","type","id","placeholder","verify","required","value","pattern","labelText","minLength","validate","map","Object","keys","length"],"sources":["D:/personal/sideProject/react-todolist-page/src/pages/home/components/Register.js"],"sourcesContent":["import { useState } from 'react';\r\n\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport { useForm } from 'react-hook-form';\r\n\r\nimport Loading from '../../../components/Loading';\r\nimport MySwal from '../../../components/Swql';\r\n\r\nimport { RegisterApi } from '../../../global/todoApi';\r\n\r\nimport FormInput from './FormInput';\r\n\r\nconst Register = () => {\r\n    const [isLoading, setLoading] = useState(false);\r\n\r\n    const { register, handleSubmit, watch, formState } = useForm();\r\n\r\n    const { errors } = formState;\r\n\r\n    const fetchRegister = async (user) => {\r\n        setLoading(true);\r\n        const res = await RegisterApi(user);\r\n        const data = await res.json();\r\n\r\n        const { status } = res;\r\n        const { message, error } = data;\r\n\r\n        setLoading(false);\r\n\r\n        if (status === 201) {\r\n            MySwal.fire({\r\n                toast: true,\r\n                position: 'top-end',\r\n                icon: 'success',\r\n                showConfirmButton: false,\r\n                timer: 1500,\r\n                timerProgressBar: true,\r\n                title: message,\r\n            });\r\n        } else if (status === 422) {\r\n            let errorMsg = '';\r\n\r\n            for (const item of error) {\r\n                errorMsg += item + ' ';\r\n            }\r\n\r\n            MySwal.fire({\r\n                toast: true,\r\n                position: 'top-end',\r\n                icon: 'error',\r\n                showConfirmButton: false,\r\n                timer: 1500,\r\n                timerProgressBar: true,\r\n                title: message,\r\n                text: errorMsg,\r\n            });\r\n        }\r\n    };\r\n\r\n    const formInputList = [\r\n        {\r\n            type: 'text',\r\n            id: 'email',\r\n            placeholder: '請輸入 Email',\r\n            verify: {\r\n                required: { value: true, message: '此欄位必填' },\r\n                pattern: {\r\n                    value: /^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/g,\r\n                    message: '不符合 Email 規則',\r\n                },\r\n            },\r\n            labelText: 'Email',\r\n        },\r\n        {\r\n            type: 'text',\r\n            id: 'nickname',\r\n            placeholder: '請輸入您的暱稱',\r\n            verify: {\r\n                required: { value: true, message: '此欄位必填' },\r\n            },\r\n            labelText: '您的暱稱',\r\n        },\r\n        {\r\n            type: 'password',\r\n            id: 'password',\r\n            placeholder: '請輸入密碼',\r\n            verify: {\r\n                required: { value: true, message: '此欄位必填' },\r\n                minLength: {\r\n                    value: 6,\r\n                    message: '密碼 字數太少，至少需要 6 個字',\r\n                },\r\n            },\r\n            labelText: '密碼',\r\n        },\r\n        {\r\n            type: 'text',\r\n            id: 'password2',\r\n            placeholder: '請再次輸入密碼',\r\n            verify: {\r\n                required: { value: true, message: '此欄位必填' },\r\n                validate: (value) =>\r\n                    value === watch('password', '') ||\r\n                    '兩次密碼輸入不同，請重新確認',\r\n            },\r\n            labelText: '再次輸入密碼',\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <>\r\n            <form\r\n                className='formControls'\r\n                onSubmit={handleSubmit(fetchRegister)}\r\n            >\r\n                <h2 className='formControls_txt'>註冊帳號</h2>\r\n                {formInputList.map((item) => (\r\n                    <FormInput\r\n                        key={item.id}\r\n                        item={item}\r\n                        register={register}\r\n                        errors={errors}\r\n                    />\r\n                ))}\r\n                <input\r\n                    className='formControls_btnSubmit'\r\n                    type='submit'\r\n                    value='註冊帳號'\r\n                    disabled={Object.keys(errors).length > 0}\r\n                />\r\n                <NavLink className='formControls_btnLink' to='/login'>\r\n                    登入\r\n                </NavLink>\r\n            </form>\r\n            {isLoading ? <Loading /> : ''}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Register;"],"mappings":"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"},"metadata":{},"sourceType":"module"}